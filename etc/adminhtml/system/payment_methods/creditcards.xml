<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * NOTICE OF LICENSE
 *
 * This source file is subject to the MIT License
 * It is available through the world-wide-web at this URL:
 * https://tldrlegal.com/license/mit-license
 * If you are unable to obtain it through the world-wide-web, please send an email
 * to support@buckaroo.nl, so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade this module to newer
 * versions in the future. If you wish to customize this module for your
 * needs please contact support@buckaroo.nl for more information.
 *
 * @copyright Copyright (c) Buckaroo B.V.
 * @license   https://tldrlegal.com/license/mit-license
 */
 -->
<include xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_include.xsd">
    <!-- Credit and debit card Payment method group -->
    <group id="buckaroo_magento2_creditcards" translate="label" type="text" sortOrder="55" showInDefault="1" showInWebsite="1" showInStore="1">
        <label>Credit and debit cards (Hosted Fields)</label>
        <frontend_model>Buckaroo\Magento2\Block\Config\Form\Field\Fieldset</frontend_model>

        <field id="active" translate="label comment tooltip" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Enable credit and debit cards (Hosted Fields)</label>
            <comment><![CDATA[Enable or disable this payment method.]]></comment>
            <source_model>Buckaroo\Magento2\Model\Config\Source\Enablemode</source_model>
            <config_path>payment/buckaroo_magento2_creditcards/active</config_path>
        </field>

        <field id="payment_flow" translate="label comment" type="select" sortOrder="15" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Payment Flow</label>
            <comment><![CDATA[Whether to use separate authorize and capture calls or to use a combined 'pay' call.]]></comment>
            <config_path>payment/buckaroo_magento2_creditcards/payment_action</config_path>
            <source_model>Buckaroo\Magento2\Model\Config\Source\PaymentFlow</source_model>
        </field>

        <field id="hosted_fields_client_id" translate="label comment tooltip" type="obscure" sortOrder="33" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Buckaroo Hosted Fields Client ID:</label>
            <comment><![CDATA[Enter your Buckaroo Hosted Fields Client ID, obtainable from the Buckaroo Plaza at → Settings → <a href="https://plaza.buckaroo.nl/Configuration/TokenApi/Applications" target="_blank">Token registration</a>.]]></comment>
            <tooltip>Please enter your Buckaroo Hosted Fields Client ID.</tooltip>
            <backend_model>Magento\Config\Model\Config\Backend\Encrypted</backend_model>
            <config_path>payment/buckaroo_magento2_creditcards/hosted_fields_client_id</config_path>
        </field>

        <field id="hosted_fields_client_secret" translate="label comment tooltip" type="obscure" sortOrder="34" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Buckaroo Hosted Fields Client Secret:</label>
            <comment><![CDATA[Enter your Buckaroo Hosted Fields Client Secret, obtainable from the Buckaroo Plaza at → Settings → <a href="https://plaza.buckaroo.nl/Configuration/TokenApi/Applications" target="_blank">Token registration</a>.]]></comment>
            <tooltip>Please enter your Buckaroo Hosted Fields Client Secret.</tooltip>
            <backend_model>Magento\Config\Model\Config\Backend\Encrypted</backend_model>
            <config_path>payment/buckaroo_magento2_creditcards/hosted_fields_client_secret</config_path>
        </field>

        <field id="title" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Title</label>
            <comment><![CDATA[The payment method name shown during checkout. If empty, the default title is used.]]></comment>
            <config_path>payment/buckaroo_magento2_creditcards/title</config_path>
        </field>

        <field id="display_subtext" translate="label comment" type="select" sortOrder="24" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Display Subtext</label>
            <comment><![CDATA[Enable or disable subtext display during checkout.]]></comment>
            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
            <config_path>payment/buckaroo_magento2_creditcards/display_subtext</config_path>
        </field>

        <field id="subtext" translate="label comment" type="text" sortOrder="25" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Subtext Content</label>
            <comment><![CDATA[This controls the description which the user sees during checkout.]]></comment>
            <config_path>payment/buckaroo_magento2_creditcards/subtext</config_path>
            <depends>
                <field id="display_subtext">1</field>
            </depends>
        </field>

        <field id="subtext_style" translate="label comment" type="select" sortOrder="26" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Subtext Style</label>
            <comment><![CDATA[Choose a font style for the subtext.]]></comment>
            <source_model>Buckaroo\Magento2\Model\Config\Source\SubtextStyle</source_model>
            <config_path>payment/buckaroo_magento2_creditcards/subtext_style</config_path>
            <depends>
                <field id="display_subtext">1</field>
            </depends>
        </field>

        <field id="subtext_color" translate="label comment" sortOrder="27" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Subtext Color</label>
            <comment><![CDATA[Choose a font color for the subtext.]]></comment>
            <config_path>payment/buckaroo_magento2_creditcards/subtext_color</config_path>
            <frontend_model>Buckaroo\Magento2\Block\Config\Form\Field\ColorPicker</frontend_model>
            <depends>
                <field id="display_subtext">1</field>
            </depends>
        </field>


        <field id="sort_order" translate="label comment" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Sort Order</label>
            <comment><![CDATA[Determines the sorting of payment methods.]]></comment>
            <config_path>payment/buckaroo_magento2_creditcards/sort_order</config_path>
        </field>

        <group id="buckaroo_magento2_default" translate="label" type="text" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Method specific configuration</label>
            <field id="allowed_issuers" translate="label comment" type="multiselect" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Allowed credit and debit cards</label>
                <comment><![CDATA[Select payment method specific Credit and debit card. At least one card must be selected.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/allowed_issuers</config_path>
                <source_model>Buckaroo\Magento2\Model\Config\Source\Creditcards</source_model>
                <backend_model>Buckaroo\Magento2\Model\Config\Backend\AllowedIssuers</backend_model>
                <can_be_empty>1</can_be_empty>
            </field>
        </group>

        <group id="buckaroo_magento2_hosted_fields_placeholders" translate="label" type="text" sortOrder="45" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Hosted Fields Placeholder Configuration</label>

            <field id="placeholder_cardholder_name" translate="label comment" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Cardholder Name Placeholder</label>
                <comment><![CDATA[Customize the placeholder text for the cardholder name field.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/placeholder_cardholder_name</config_path>
            </field>

            <field id="placeholder_card_number" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Card Number Placeholder</label>
                <comment><![CDATA[Customize the placeholder text for the card number field.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/placeholder_card_number</config_path>
            </field>

            <field id="placeholder_expiry_date" translate="label comment" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Expiry Date Placeholder</label>
                <comment><![CDATA[Customize the placeholder text for the expiry date field.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/placeholder_expiry_date</config_path>
            </field>

            <field id="placeholder_cvc" translate="label comment" type="text" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>CVC Placeholder</label>
                <comment><![CDATA[Customize the placeholder text for the CVC field.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/placeholder_cvc</config_path>
            </field>
        </group>

        <group id="buckaroo_magento2_hosted_fields_styling" translate="label" type="text" sortOrder="46" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Hosted Fields Styling Configuration</label>

            <field id="field_text_color" translate="label comment" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Input Field Text Color</label>
                <comment><![CDATA[Color for the text typed inside credit card input fields. This is different from the payment method description color above.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/field_text_color</config_path>
                <frontend_model>Buckaroo\Magento2\Block\Config\Form\Field\ColorPicker</frontend_model>
            </field>

            <field id="field_background_color" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Background Color</label>
                <comment><![CDATA[Background color for hosted fields.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/field_background_color</config_path>
                <frontend_model>Buckaroo\Magento2\Block\Config\Form\Field\ColorPicker</frontend_model>
            </field>

            <field id="field_border_color" translate="label comment" type="text" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Border Color</label>
                <comment><![CDATA[Border color for hosted fields.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/field_border_color</config_path>
                <frontend_model>Buckaroo\Magento2\Block\Config\Form\Field\ColorPicker</frontend_model>
            </field>

            <field id="field_placeholder_color" translate="label comment" type="text" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Placeholder Color</label>
                <comment><![CDATA[Color for placeholder text in hosted fields.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/field_placeholder_color</config_path>
                <frontend_model>Buckaroo\Magento2\Block\Config\Form\Field\ColorPicker</frontend_model>
            </field>

            <field id="field_font_size" translate="label comment" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Font Size</label>
                <comment><![CDATA[Font size for hosted fields (e.g., "14px", "16px").]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/field_font_size</config_path>
            </field>

            <field id="field_font_family" translate="label comment" type="text" sortOrder="60" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Font Family</label>
                <comment><![CDATA[Font family for hosted fields.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/field_font_family</config_path>
            </field>

            <field id="field_border_radius" translate="label comment" type="text" sortOrder="70" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Border Radius</label>
                <comment><![CDATA[Border radius for hosted fields (e.g., "5px", "10px").]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/field_border_radius</config_path>
            </field>
        </group>

        <group id="buckaroo_magento2_advanced" translate="label" type="text" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Advanced Configuration</label>

            <field id="order_email" translate="label comment" type="select" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Send Order Confirmation Email</label>
                <comment><![CDATA[Enable to send an order confirmation email to the customer when the creating of the order is successful. Specific for this payment method.]]></comment>
                <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                <config_path>payment/buckaroo_magento2_creditcards/order_email</config_path>
            </field>

            <field id="payment_fee" translate="label comment" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Payment Fee</label>
                <comment><![CDATA[The above amount is calculated based on de Tax settings in Buckaroo > Settings > Buckaroo Payment Fee Tax Class.]]></comment>
                <config_path>payment/buckaroo_magento2_creditcards/payment_fee</config_path>
                <backend_model>Buckaroo\Magento2\Model\Config\Backend\PaymentFee</backend_model>
            </field>

            <field id="active_status" translate="label comment" type="select" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Method Specific Status Enabled</label>
                <comment><![CDATA[Enable or disable specific status.]]></comment>
                <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                <config_path>payment/buckaroo_magento2_creditcards/active_status</config_path>
            </field>

            <field id="order_status_success" translate="label comment tooltip" type="select" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Method Specific Success Status</label>
                <comment><![CDATA[Leave empty to use default 'success' status.]]></comment>
                <tooltip>To make a new status available it needs to be assigned to the correct state. See Magento documentation about state and status.</tooltip>
                <source_model>Buckaroo\Magento2\Model\Config\Source\StatusesSuccess</source_model>
                <config_path>payment/buckaroo_magento2_creditcards/order_status_success</config_path>
                <depends>
                    <field id="active_status">1</field>
                </depends>
            </field>

            <field id="order_status_failed" translate="label comment tooltip" type="select" sortOrder="60" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Method Specific Failed Status</label>
                <comment><![CDATA[Leave empty to use default 'failed' status.]]></comment>
                <tooltip>To make a new status available it needs to be assigned to the correct state. See Magento documentation about state and status.</tooltip>
                <source_model>Buckaroo\Magento2\Model\Config\Source\StatusesFailed</source_model>
                <config_path>payment/buckaroo_magento2_creditcards/order_status_failed</config_path>
                <depends>
                    <field id="active_status">1</field>
                </depends>
            </field>

            <group id="buckaroo_magento2_visibility" translate="label" type="text" sortOrder="70" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Method Visibility</label>

                <field id="min_amount" translate="label comment tooltip" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Min Order Amount</label>
                    <comment><![CDATA[Minimum order amount allowed.]]></comment>
                    <tooltip>The payment method shows only for orders with an order amount greater than the minimum amount.</tooltip>
                    <config_path>payment/buckaroo_magento2_creditcards/min_amount</config_path>
                    <backend_model>Buckaroo\Magento2\Model\Config\Backend\Price</backend_model>
                </field>

                <field id="max_amount" translate="label comment tooltip" type="text" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Max Order Amount</label>
                    <comment><![CDATA[Maximum order amount allowed.]]></comment>
                    <tooltip>The payment method shows only for orders with an order amount smaller than the maximum amount.</tooltip>
                    <config_path>payment/buckaroo_magento2_creditcards/max_amount</config_path>
                    <backend_model>Buckaroo\Magento2\Model\Config\Backend\Price</backend_model>
                </field>

                <field id="specificcustomergroup" translate="label" type="multiselect" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Allow Customer Groups</label>
                    <source_model>Buckaroo\Magento2\Model\Config\Source\SpecificCustomerGroups</source_model>
                    <can_be_empty>1</can_be_empty>
                    <config_path>payment/buckaroo_magento2_creditcards/specificcustomergroup</config_path>
                </field>

                <field id="allowspecific" translate="label" type="select" sortOrder="40" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Allowed Countries</label>
                    <source_model>Buckaroo\Magento2\Model\Config\Source\AllOrSpecificCountries</source_model>
                    <config_path>payment/buckaroo_magento2_creditcards/allowspecific</config_path>
                </field>

                <field id="specificcountry" translate="label comment" type="multiselect" sortOrder="50" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Payment from Specific Country</label>
                    <comment><![CDATA[Only available when set to 'specific countries'.]]></comment>
                    <source_model>Magento\Config\Model\Config\Source\Locale\Country</source_model>
                    <config_path>payment/buckaroo_magento2_creditcards/specificcountry</config_path>
                    <depends>
                        <field id="allowspecific">1</field>
                    </depends>
                </field>

                <field id="allowed_currencies" translate="label comment tooltip" type="multiselect" sortOrder="60" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Allowed Currencies</label>
                    <comment><![CDATA[Select payment method specific currencies.]]></comment>
                    <tooltip>Your contract with Buckaroo must allow for the selected currencies to be used with this payment method.</tooltip>
                    <config_path>payment/buckaroo_magento2_creditcards/allowed_currencies</config_path>
                    <source_model>Buckaroo\Magento2\Model\Config\Source\AllowedCurrencies::creditcards</source_model>
                    <backend_model>Buckaroo\Magento2\Model\Config\Backend\AllowedCurrencies</backend_model>
                </field>
            </group>
        </group>
    </group>
</include>
